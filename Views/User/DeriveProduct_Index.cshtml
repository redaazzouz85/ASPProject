@model IEnumerable<ASPProject.Models.DeriveProductModel>

@{
    ViewBag.Title = "DeriveProduct_Index";
}


<br />
<strong><hr /></strong>
<h1 style="text-align:center ; color :dodgerblue" class="modal-title ">DERIVE PRODUCT</h1>
<strong><hr /></strong>
<br />
<hr />
<div style="align-content:flex-end">
    @using (Html.BeginForm("DeriveProduct_Index", "User", FormMethod.Post))
    {
        <select name="SelectedDeriveCollection" id="DeriveCollection-select" onchange="this.form.submit()">

            <option value="">--Please choose an option--</option>
            <option value="0">All</option>

            @foreach (var y in ViewBag.noDuplicate_typeList)
            {
                <option value="@y">@y</option>

            }

            @foreach (var x in ViewBag.noDuplicate_originList)
            {
                <option value="@x">@x</option>
            }

            @*
                    if (ViewBag.OriginList != null)
                    {
                    }
                    else
                    {
                        foreach (var x in Model)
                        {
                            <option value="@x.Original_Product">@x.Original_Product</option>
                        }
                    }
                }*@
        </select>
    }
    <hr />
</div>


<div class="container container-fluid">
    @foreach (var item in Model)
    {

        <div class="col-sm-4 d-flex pb-3">
            <div class="card card-block" style="width: 30rem; text-align:center;">
                <div id="container">
                    <img class="card-img-top" src="@Url.Content(item.Image)" width="300" height="300" asp-append-version="true" alt="Card image cap">
                    @{
                        if (item.Quantity == 0)
                        {
                            <img class="card-img-top" id="img2" src="~/Images/soldOut.png" width="100" height="100" asp-append-version="true" alt="Card image cap">

                        }
                    }
                </div>

                <div class="card-body">
                    <h5 class="card-title " style="min-height:60px">@item.Name</h5>
                    <h6 class="bg-info"><strong>@item.Original_Product</strong> </h6>
                </div>
                <ul class="list-group list-group-flush ">
                    <li class="list-group-item ">@item.Quantity Available </li>
                    <li class="list-group-item"> @item.Price <span>$</span></li>

                </ul>
                <div class="card-body">
                    @if (item.Quantity > 0)
                    {
                        <button type="button" class="btn btn-primary" onclick="location.href='@Url.Action("Index", "Cart", new { id = @item.Id })'">Add To Cart</button>

                    }
                    else
                    {
                        <button type="button" disabled="disabled" class="btn btn-info" onclick="location.href='@Url.Action("Index", "Cart", new { id = @item.Id })'">Add To Cart</button>

                    }

                    @* <a href="~/Cart/Index.cshtml?productID=@item.Id" class="card-link">Add to cart</a>*@
                </div>
            </div>
        </div>

    }
</div>
<style>
    #container {
        position: relative;
    }

    #img2 {
        position: absolute;
        right: 5px;
        top: 5px;
    }
</style>
